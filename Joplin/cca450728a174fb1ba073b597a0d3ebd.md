id: cca450728a174fb1ba073b597a0d3ebd
parent_id: 
item_type: 1
item_id: c7ee47185e934c9b9f62a17bdba8eb7d
item_updated_time: 1726320990662
title_diff: "[{\"diffs\":[[1,\"nexus\"]],\"start1\":0,\"start2\":0,\"length1\":0,\"length2\":5}]"
body_diff: "[{\"diffs\":[[1,\"# [docker repositories](https://wiki.sadad.co.ir/display/Linux/docker+repositories)\\\n\\\n[Skip to end of metadata](https://wiki.sadad.co.ir/display/Linux/docker+repositories#page-metadata-end)\\\n\\\n- Created by [Atefeh Dorfaki](https://wiki.sadad.co.ir/display/~adorfaki), last modified on [Apr 20, 2020](https://wiki.sadad.co.ir/pages/diffpagesbyversion.action?pageId=43370492&selectedPageVersions=6&selectedPageVersions=7 \\\"Show changes\\\")\\\n\\\n[Go to start of metadata](https://wiki.sadad.co.ir/display/Linux/docker+repositories#page-metadata-start)\\\n\\\nمواردی که برای ایجاد مخازنی مختص artifact های نوع docker نیاز داریم, در این بخش لیست شده است:\\\n\\\n- <span style=\\\"color: #0000ff;\\\">**hosted:**</span>\\\n    \\\n    این مورد فقط در hosted repository ها وجود دارد.\\\n    \\\n\\\nاین بخش policy های مربوط به deploy کردن مولفه ها را مشخص می کند و شامل گزینه های زیر است:\\\n\\\n1.  <span style=\\\"color: #000000;\\\">**Read-only:**</span> فقط می توان مولفه ها را استفاده کرد و امکان تغییر یا deploy کردن مولفه جدید نیست.  \\\n    <br/>\\\n2.  **<span style=\\\"color: #000000;\\\">disable redeploy:</span>** فقط یکبار امکان deploy کردن مولفه وجود دارد.(حالت default)  \\\n    <br/>\\\n3.  **<span style=\\\"color: #000000;\\\">allow redeploy:</span>** امکان deploy کردن مولفه برای چند بار وجود دارد و روی مولفه قبلی over write می شود.  \\\n    <br/>\\\n\\\n- <span style=\\\"color: #0000ff;\\\"><span style=\\\"color: #0000ff;\\\">**proxy:**</span></span>  \\\n    <span style=\\\"color: #0000ff;\\\"><span style=\\\"color: #0000ff;\\\">  \\\n    </span></span>\\\n\\\nاین مورد فقط در proxy repository ها کاربرد دارد.\\\n\\\n<span style=\\\"color: #000000;\\\">این قسمت برای تنظیم اطلاعات repository است و شامل موارد زیر می باشد:</span>\\\n\\\n1.  <span style=\\\"color: #000000;\\\">**foreign layer caching:** در صورتی که این گزینه تیک بخورد, نیازمندی های یک artifact خاص,فقط یکبار از آدرس داده شده دریافت می شود و هر زمانی که این dependency ها لازم باشد, از مولفه های گرفته شده استفاده می شود و مجددا به remote repository رجوع نمی شود.</span>  \\\n    <br/>\\\n2.  <span style=\\\"color: #000000;\\\">**blocked:** در صورتی که این گزینه تیک زده شود, دیگر هیچ درخواستی سمت remote repository ارسال نمی شود.</span>  \\\n    <span style=\\\"color: #000000;\\\">  \\\n    </span>\\\n3.  <span style=\\\"color: #000000;\\\">**auto blocking enable:** در صورتی که remote repository مشکل داشته باشد و پاسخ درست ارسال نکند, به صورت اتوماتیک توسط repository بلاک می شود و دیگر درخواستی سمت آن نمی رود.</span>  \\\n    <span style=\\\"color: #000000;\\\">  \\\n    </span>\\\n4.  <span style=\\\"color: #000000;\\\">**maximum component age:** اگر درخواستی به سمت remote proxy در کمتر از x دقیقه تکرار شود, proxy remote دیگر ورژن جدیدی را از remote proxy نمی گیرد و مولفه قبلی را در اختیار درخواست دهنده قرار می دهد.(اگر این مقدار ۱- باشد. به ازای هر درخواست یکبار به remote repository پراکسی میزند.)</span>  \\\n    <span style=\\\"color: #000000;\\\">  \\\n    </span>\\\n5.  <span style=\\\"color: #000000;\\\">**Negative cache:** اگر nexus نتواند یک مؤلفه را در یک remote repository پیدا کند ، تا x دقیقه ی بعدی , درخواست هایی که جهت دریافت این مولفه به این repository ارسال می شود, بدون تلاش مجدد برای دریافت آن از remote repository, ناموفق اعلام می شود.</span>\\\n\\\n- **<span style=\\\"color: #0000ff;\\\">docker registry API support:</span>**\\\n\\\n<span style=\\\"color: #0000ff;\\\"><span style=\\\"color: #ff0000;\\\"><span style=\\\"color: #000000;\\\">ابزارهای سمت مشتری داکر از طریق API رجیستری با repository ها در تعامل هستند. registry API دارای دو نسخه 1 (V1) 2 (V2) است.در حال حاضر Docker Hub و سایر ابزارها از V2 استفاده می کنند ، اما در برخی موارد از V1 هم استفاده می شود.Nexus Repository Manager از V1 و همچنین V2 API پشتیبانی می کند. ب<span style=\\\"color: #0000ff;\\\"><span style=\\\"color: #ff0000;\\\"><span style=\\\"color: #000000;\\\">رای مخزن های docker بهتر است این مورد تیک زده شود تا توسعه دهندگانی که از ورژن ۱ هم استفاده می کنند بتوانند به راحتی image های خود را در مخزن ذخیره نمایند.</span></span></span>بدون این گزینه ، هر درخواست V1 منجر به خطایی در ابزار مشتری می شود.</span></span></span>  \\\n<span style=\\\"color: #0000ff;\\\"><span style=\\\"color: #ff0000;\\\"><span style=\\\"color: #000000;\\\">  \\\n</span></span></span>\\\n\\\n- <span style=\\\"color: #0000ff;\\\"><span style=\\\"color: #ff0000;\\\"><span style=\\\"color: #000000;\\\">**<span style=\\\"color: #0000ff;\\\">repository connectors:</span>**</span></span></span>\\\n    \\\n    <span style=\\\"color: #000000;\\\">تعامل docker client با مخازن نیاز به استفاده از پورت های خاص دارد. این موارد را می توان در تنظیمات repository داکر و در بخش repository connector بررسی کرد.توجه داشته باشید که در repository های مرتبط با داکر, به ازای هر مخزن یک پورت خاص و جداگانه از بقیه برنامه ها ارائه می شود.  \\\n    </span>\\\n    \\\n    <span style=\\\"color: #000000;\\\">این بخش به همراه تنظیماتی که در تب content selector انجام می پذیرید,کاربرد پیدا می کند که نحوه ی تنظیمات آن در ادامه توضیح داده شده است:</span>\\\n    \\\n\\\n## <span style=\\\"color: #008000;\\\">**content selector:**</span>\\\n\\\n<span style=\\\"color: #000000;\\\">با توجه به ویژگی docker registry ها و عدم پذیرش context در url توسط مخازن مربوط به داکر در بخش قبل اشاره شد که به ازای هر مخزن داکری یک پورت جداگانه در nexus در نظر گرفته می شود تا مخزن های مرتبط با هر تیم به صورت جداگانه باشد.</span>\\\n\\\n<span style=\\\"color: #000000;\\\">حال برای اینکه تمام اجزای مخازن داکر بین همه تیم ها به اشتراک گذاشته نشود ، content selector راهی را برای انتخاب محتوای خاص از کل مخزن را به شما ارائه می دهد.</span>\\\n\\\n<span style=\\\"color: #000000;\\\">![](:/0b6060b6bf594e8f8483408a5351e93d)  \\\n</span>\\\n\\\n<span style=\\\"color: #000000;\\\">طبق تصویر بالا مواردی که در تب content selector وجود دارد عبارتند از name, description و specification که در بخش specification می توان format مخازن مورد نظر برای دسترسی و همچنین محتوای آن را مشخص کرد.</span>\\\n\\\n<span style=\\\"color: #000000;\\\">برای مثال:</span>\\\n\\\n<span style=\\\"color: #000000;\\\">*format **\\\\==** “maven”* and *path =^ “/com/example/”*</span>\\\n\\\n<span style=\\\"color: #000000;\\\">مخازنی را در دسترس قرار می دهد که فرمت آن ها maven باشد و آدرس آن ها در nexus با com/example شروع شده باشد.</span>\\\n\\\nپس از تعریف search expression می توان از گزینه preview result استفاده کرد تا درستی query ایجاد شده را تست کرد.\\\n\\\n<span style=\\\"color: #000000;\\\">برای مطالعه بیشتر در این خصوص به بخش content selector در انتهای صفحه زیر مراجعه کنید:</span>\\\n\\\n`https:``//help.sonatype.com/repomanager3/configuration/repository-management#RepositoryManagement-ContentSelectors`\\\n\\\n<span style=\\\"color: #000000;\\\">پس از انجام مرحله قبل به ازای هر یک از content selector های ایجاد شده, نیاز به ساخت privilege داریم که در ادامه توضیح داده می شود:  \\\n</span>\\\n\\\n## <span style=\\\"color: #000000;\\\">**<span style=\\\"color: #008000;\\\">privileges:</span>**</span>\\\n\\\n<span style=\\\"color: #000000;\\\">در تب privileges با انتخاب گزینه create privilege و سپس انتخاب **repository content selector** اقدام به ایجاد یک privilege می کنیم:</span>\\\n\\\n<span style=\\\"color: #000000;\\\"><span style=\\\"color: #000000;\\\">![](:/337f981ac5fc4a1fa947541befcf8045)</span>  \\\n</span>\\\n\\\nبهتر است برای عمل push و pull هر docker repository, یک content selector جداگانه ایجاد کنیم و در privilege نیز برای هر مورد یک privilege مجزا در نظر بگیریم:\\\n\\\n۱-گزینه action برای privilege های مربوط به pull برابر است با read\\\n\\\n۲-گزینه action برای privilege های مربوط به push برابر است با add,edit\\\n\\\n**<span style=\\\"color: #ff0000;\\\">در بخش repository باید گزینه All Docker Repositories انتخاب شود.</span>**\\\n\\\nدر بخش بعدی نحوه ایجاد role و user و ارتباط آن ها با privilege ها توضیح داده می شود.\"]],\"start1\":0,\"start2\":0,\"length1\":0,\"length2\":7197}]"
metadata_diff: {"new":{"id":"c7ee47185e934c9b9f62a17bdba8eb7d","parent_id":"570588f72e8a457f9e1c311f38fc711a","latitude":"35.68919750","longitude":"51.38897360","altitude":"0.0000","author":"","source_url":"","is_todo":0,"todo_due":0,"todo_completed":0,"source":"joplin-desktop","source_application":"net.cozic.joplin-desktop","application_data":"","order":0,"markup_language":1,"is_shared":0,"share_id":"","conflict_original_id":"","master_key_id":"","user_data":"","deleted_time":0},"deleted":[]}
encryption_cipher_text: 
encryption_applied: 0
updated_time: 2024-09-14T13:42:42.796Z
created_time: 2024-09-14T13:42:42.796Z
type_: 13