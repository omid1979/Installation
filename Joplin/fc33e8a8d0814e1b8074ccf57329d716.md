minio erasure coding

##### <span style="color: #000000;">این ویژگی یک الگوریتم ریاضی برای بازسازی داده های از دست رفته یا خراب است که از آبجکت های ذخیره شده در برابر خرابی های سخت افزاری و داده ها محافظت می کند. با بالاترین سطح افزونگی ، ممکن است تا نیمی (N/2) از کل درایوها را از دست بدهید و همچنان بتوانید داده ها را بازیابی کنید.</span>

در این بحث یک شیء می تواند در تعداد متغیری درایو به عنوان داده ی اصلی و در تعدادی به عنوان parity blocks تقسیم شود.

##### <span style="color: #000000;">به طور پیش فرض ، اگر N تعداد درایو های یک هاست باشند، MinIO اشیاء را به N/2 داده و N/2 عدد parity block خرد می کند.این نوع تقسیم بندی بهترین محافظت را در برابر خرابی درایو تضمین می کند.</span>

تعداد مطلوب درایو ها 12 میباشد و در اینصورت می توانید هر یک از شش درایو را از دست داده و همچنان داده ها را با اطمینان از درایوهای باقی مانده بازسازی کنید.در صورتی که در بحث RAID از دست داده داده به این میزان، قابل بازیابی نیست.

##### <span style="color: #000000;">علاوه بر این به دلیل اینکه همانطور که MinIO هر شی را به صورت جداگانه کد می کند erasure coding می تواند به تنهایی بازیابی یک شی را در یک زمان انجام دهددر صورتی که در RAID بازیابی فقط در سطح volume انجام می شود که زمان زیادی نیز برای</span>

بازیابی صرف میکند.  
در مقیاس بزرگتر، اگر بخواهیم احتمال از دست رفتن هاست را هم در نظر بگیریم و برای جلوگیزی از data loss راهکاری پیشنهاد دهیم، استفاده از ترکیب distributed minio و erasure می باشد که در این معماری به جای استفاده از 1 هاست با چند درایو از تعداد بیشتری هاست (حداقل 4 نود و یا مضربی از آن) برای سرویس دهی و ذخیره اطلاعات استفاده می شود.  
<br/>

![4faedecad5afd93feb79338a39030c29.png](:/8b2b7483f205433b8613cb091103dd84)

<span style="color: #000000;">برای راه اندازی این معماری،در ابتدا مراحل 1 تا 8 از صفحه ی [نصب و راه اندازی minio](/tmp/.mount_Joplin20jBul/resources/app.asar/[Installing%20Minio]%28:/cb84b2a22ba44faeb9d37d5d34a5df31%29) را انجام میدهیم و سپس دستورات زیر را به ترتیب اعمال میکنیم:</span>

<span style="color: #000000;">1- اگر د تعداد سرور ها و m تعداد درایو های کلاستر باشند و data نام دایرگتوری، با دستور زیر میتوان minio را به صورت distributed و با ویژگی erasure coding پیاده سازی نمود:  
</span>

<span style="color: #000000;">host نیز در وافع با اسم دلخواهی که برای نود های کلاستر انتخاب شده و در /etc/hosts تمامی نود ها تعریف شده است،جایگزین می شود.</span>

`minio server http:``//host{1...n}/data{1...m}`

<span style="color: #000000;">نکته: owner و group تمامی دایکتوری های ایجاد شده در همه ی نود ها می بایست با دستور زیر به minio تغییر کنند:</span>

`chown -R minio. data{``1``..``8``}`

<span style="color: #000000;">میتوان برای بررسی منابع مورد نیاز و آمار تعداد نود ها و درایو های پیش بینی شده جهت قابلیت بازگردانی داده از آدرس زیر استفاده کرد:</span>

<span style="color: #000000;">https://min.io/product/erasure-code-calculator?ref=docs</span>

<span style="color: #000000;">برای مثال، در تصویر زیر،تعداد کل نود ها 8 عدد در نظر گرفته شده است که هر یک از آن ها دارای 8 درایور با ظرفیت 1T میباشند. انتخاب عدد 4 برای parity به این معناست که از هر 8 درایور موجود در هر هاست ، 4 عدد به عنوان parity انتخاب شده است (N/2) که حالت استاندارد تقسیم بندی می باشد.</span>

![6afdcebfaf1be60024d4325308f474f3.png](:/d7b399206be0494a91c436d541d5d27d)

id: fc33e8a8d0814e1b8074ccf57329d716
parent_id: 9051567a85b34643b4e0252a8fdf0ac0
created_time: 2024-08-13T08:25:41.031Z
updated_time: 2024-08-13T08:27:40.076Z
is_conflict: 0
latitude: 35.68919750
longitude: 51.38897360
altitude: 0.0000
author: 
source_url: 
is_todo: 0
todo_due: 0
todo_completed: 0
source: joplin-desktop
source_application: net.cozic.joplin-desktop
application_data: 
order: 0
user_created_time: 2024-08-13T08:25:41.031Z
user_updated_time: 2024-08-13T08:27:40.076Z
encryption_cipher_text: 
encryption_applied: 0
markup_language: 1
is_shared: 0
share_id: 
conflict_original_id: 
master_key_id: 
user_data: 
deleted_time: 0
type_: 1