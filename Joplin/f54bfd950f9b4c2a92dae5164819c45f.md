id: f54bfd950f9b4c2a92dae5164819c45f
parent_id: 
item_type: 1
item_id: b4bbfa385a7048b7b269617e2946dccd
item_updated_time: 1726321144248
title_diff: "[{\"diffs\":[[1,\"پیاده سازی OpenStack\"]],\"start1\":0,\"start2\":0,\"length1\":0,\"length2\":20}]"
body_diff: "[{\"diffs\":[[1,\"[Skip to end of metadata](https://wiki.sadad.co.ir/pages/viewpage.action?pageId=32902940#page-metadata-end)\\\n\\\n- Created by [poorya rastegar](https://wiki.sadad.co.ir/display/~prastegar), last modified on [Jun 09, 2019](https://wiki.sadad.co.ir/pages/diffpagesbyversion.action?pageId=32902940&selectedPageVersions=3&selectedPageVersions=4 \\\"Show changes\\\")\\\n\\\n[Go to start of metadata](https://wiki.sadad.co.ir/pages/viewpage.action?pageId=32902940#page-metadata-start)\\\n\\\nبرای راه اندازی اولیه Open Stack با معماری تستی پیشنهاد شده به 5 سرور نیاز داریم. نامگذاری این سرورهای بصورت زیر میباشد:\\\n\\\nController\\\n\\\nCompute\\\n\\\nBlockStorage\\\n\\\nObjectStorage1\\\n\\\nObjectStorage2\\\n\\\nگام اول: آماده سازی زیرساخت\\\n\\\nابتدا 5 ماشین فوق را آماده راه اندازی نمایید. برای این پروژه ما از یک CentOS استفاده کردیم. جهت نصب اولیه پیشنهاد میشود سرورهای شما دارای 8 گیگ رم، 4 هسته CPU و 20 گیگ فضای دیسک باشند.\\\n\\\nپس از نصب سیستم عامل مربوطه آدرس IP آنرا بصورت دستی ثبت نمایید. SSH آنرا فعال کرده و تنظیمات مختص اتصال به آنرا انجام دهید.سیستم عامل را بروز رسانی کرده و ابزار git را نیز نصب نمایید. سپس hostname سیستم را به درستی تنظیم کنید\\\n\\\nحال در فایل etc/hosts/ نام سرورهای خود را ثبت نمایید به عنوان مثال برای تست بنده موارد زیر ثبت شده است.\\\n\\\n`10.10.10.7 controller`\\\n\\\n`10.10.10.8 compute1`\\\n\\\n`10.10.10.9 block1`\\\n\\\n`10.10.10.10 object1`\\\n\\\n`10.10.10.11 object2`\\\n\\\nسپس پکیج ntp را نصب کرده و تنظیمات آنرا انجام دهید. توجه داشته باشید سرویس Selinux را غیر فعال نمایید و از تنظیمات فایروال خود کاملا آگاه باشید.\\\n\\\nگام دوم: نصب و تنظیمات نیازمندی های راه اندازی Open Stack\\\n\\\nابتدا تنظیمات سیسیتم را انجام می دهیم:\\\n\\\n`sudo` `systemctl disable firewalld`\\\n\\\n`sudo` `systemctl stop firewalld`\\\n\\\n`sudo` `systemctl disable NetworkManager`\\\n\\\n`sudo` `systemctl stop NetworkManager`\\\n\\\n`sudo` `systemctl` `enable` `network`\\\n\\\n`sudo` `systemctl start network`\\\n\\\nنکته: سرویس SElinux را غیرفعال نموده و سیستم را ریبوت نمایید.\\\n\\\nسپس انباره داده RDO را به سیستم معرفی کرده و Packstack را نصب نمایید:\\\n\\\n`sudo` `yum` `install` `-y https:``//rdoproject``.org``/repos/rdo-release``.rpm`\\\n\\\n`sudo` `yum` `install` `-y centos-release-openstack-stein`\\\n\\\n`yum-config-manager --``enable` `openstack-stein`\\\n\\\n`sudo` `yum update -y`\\\n\\\n`sudo` `yum` `install` `-y openstack-packstack`\\\n\\\nگام سوم: تنظیمات Pack Stack و راه اندازی Open Stack\\\n\\\nبا کمک packstack می توانید تمامی پروژه ها در یک ماشین جهت تست راه اندازی کنید (دربخش قبل توضیح داده شد). برای انجام این کار می توانید از دستور زیر استفاده کنید:\\\n\\\n`sudo` `packstack --allinone`\\\n\\\nاما در صورتیکه قصد دارید open stack خود را در حالت Multi Node راه اندازی نمایید می توانید از مفهومی به نام Answer File استفاده کنید. تمامی تنظیمات نصب open stack و پروژه های آن در داخل فایلی وجود دارد که می توانید با تغییر آن نودهای مختلف و تنظیمات آنها را در آن تعریف کرده و به راحتی اقدام به نصب open stack نمایید.\\\n\\\nجهت تولید این فایل از دستور زیر استفاده نمایید:\\\n\\\n`packstack --gen-answer-``file``=poorya.conf`\\\n\\\nهمانگونه که مشاهده می کنید یک فایل تنظیمات تحت عنوان poorya.conf ایجاد کردیم که با ویرایش آن می توانید اقدام به نصب open stack نمایید.\\\n\\\nبخشی از فایل را در قسمت زیر می توانید مشاهده کنید:\\\n\\\n`# Default password to be used everywhere (overridden by passwords set`\\\n\\\n`# for individual services or users).`\\\n\\\n`CONFIG_DEFAULT_PASSWORD=`\\\n\\\n`# The amount of service workers/threads to use for each service.`\\\n\\\n`# Useful to tweak when you have memory constraints. Defaults to the`\\\n\\\n`# amount of cores on the system.`\\\n\\\n`CONFIG_SERVICE_WORKERS=%{::processorcount}`\\\n\\\n`# Specify 'y' to install MariaDB. ['y', 'n']`\\\n\\\n`CONFIG_MARIADB_INSTALL=y`\\\n\\\n`# Specify 'y' to install OpenStack Image Service (glance). ['y', 'n']`\\\n\\\n`CONFIG_GLANCE_INSTALL=y`\\\n\\\n`# Specify 'y' to install OpenStack Block Storage (cinder). ['y', 'n']`\\\n\\\n`CONFIG_CINDER_INSTALL=y`\\\n\\\n`# Specify 'y' to install OpenStack Shared File System (manila). ['y',`\\\n\\\n`# 'n']`\\\n\\\n`CONFIG_MANILA_INSTALL=n`\\\n\\\n`# Specify 'y' to install OpenStack Compute (nova). ['y', 'n']`\\\n\\\n`CONFIG_NOVA_INSTALL=y`\\\n\\\n`# Specify 'y' to install OpenStack Networking (neutron) ['y']`\\\n\\\n`CONFIG_NEUTRON_INSTALL=y`\\\n\\\nEXCLUDE_SERVERS\\\n\\\nدر این فایل قسمتی تحت عنوان EXCLUDE_SERVER وجود دارد. در صورتیکه قصد دارید با همین Answer file پرژه ای از اوپن استک را نصب کنید می توانید در این بخش آدرس سرورهایی که قصد دارید تغییری روی آنها ایجاد نشود و فقط پروژه جدید نصب شود را ثبت نمایید.\\\n\\\nCONFIG_DEFAULT_PASSWORD\\\n\\\nرمز ورود پیشفرض سرویس های اوپن استک می باشد\\\n\\\nCONFIG_MARIADB_INSTALL=y\\\n\\\nاجازه نصب MariaDB\\\n\\\nCONFIG_GLANCE_INSTALL=y\\\n\\\nاجازه نصب پروژه Glance\\\n\\\nCONFIG_NETWORK_HOSTS\\\n\\\nآدرس سروری که پروژه Neutron می بایست در آن نصب شود.\\\n\\\nدر مجموع با کمی جستجو در فایل می توانید از موارد استفاده کنید و فهم یادگیری آسانی دارد.\\\n\\\nOpen vSwitch\\\n\\\nOpen vSwitch یک سوئیچ مجازی چند لایه ای می باشد که از پروتکل های شبکه های سنتی به نسبت پشتیبانی می نماید. این سوییچ به زبان C نوشته شده و در در زیرساخت های مجازی سازی مبتنی بر لینوکس کاربرد دارد. از امکاناتی این سوییچ در اختیار قرار میدهد می توان به موارد زیر اشاره کرد:\\\n\\\n- Standard 802.1Q VLAN model with trunk and access ports\\\n- NIC bonding with or without LACP on upstream switch\\\n- NetFlow, sFlow®, and mirroring for increased visibility\\\n- QoS (Quality of Service) configuration, plus policing\\\n- Geneve, GRE, VXLAN, STT, and LISP tunneling\\\n- 802.1ag connectivity fault management\\\n- OpenFlow 1.0 plus numerous extensions\\\n- Transactional configuration database with C and Python bindings\\\n- High-performance forwarding using a Linux kernel module\\\n\\\nاین سوییچ در کرنل لینوکس فعالیت می نمایید ولی در جدیدا OVS مختص Userspace نیز طراحی شده و امکان سازگاری خوبی با DPDK را دارا می باشد.\\\n\\\nحال سوال اینجاست که در این بخش از OVS یا همان Open vSwitch نامی به میان آورده شده است.\\\n\\\nدر مجازی سازی مبتنی بر لینوکس، زمانیکه ماشین های مجازی به هر دلیل دچار مشکل می شوند و یا نیاز است جابجایی آنها از یک هاست به هاست دیگر وجود داشته باشد، تمامی تنظیمات سوئیچ های آن با ماشین مجازی جابجا نشده و فقط خود ماشین جابجا میشود. پس عملا در صورتیکه این ماشین در هاست ها و فوق ناظرهای جابجا شود تنظیمات شبکه آن مانند VLAN،‌ALC و بسیاری از موارد دیگر که در حوزه شبکه می باشد در هاست ها جابجا نخواهند شد. از این رو از OVS استفاده میشود.\\\n\\\nزماینکه اوپن استک را نصب می نمایید اگر کارت شبکه های Master Node را مشاهده کنید با ۲ bridge بر خواهید خود.\"]],\"start1\":0,\"start2\":0,\"length1\":0,\"length2\":6088}]"
metadata_diff: {"new":{"id":"b4bbfa385a7048b7b269617e2946dccd","parent_id":"178945c85174489ea06524f952d4f483","latitude":"35.68919750","longitude":"51.38897360","altitude":"0.0000","author":"","source_url":"","is_todo":0,"todo_due":0,"todo_completed":0,"source":"joplin-desktop","source_application":"net.cozic.joplin-desktop","application_data":"","order":0,"markup_language":1,"is_shared":0,"share_id":"","conflict_original_id":"","master_key_id":"","user_data":"","deleted_time":0},"deleted":[]}
encryption_cipher_text: 
encryption_applied: 0
updated_time: 2024-09-14T13:42:42.834Z
created_time: 2024-09-14T13:42:42.834Z
type_: 13